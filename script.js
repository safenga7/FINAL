document.addEventListener("DOMContentLoaded", function () {
    const chatBox = document.querySelector(".chat-box");
    const inputField = document.querySelector(".message-input");
    const sendButton = document.querySelector(".send-button");

    if (!chatBox || !inputField || !sendButton) {
        console.error("‚ùå ÿÆÿ∑ÿ£: ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ£ÿ≠ÿØ ÿßŸÑÿπŸÜÿßÿµÿ± ŸÅŸä DOM!");
        return;
    }

    const responses = {
        "—è –≥—Ä—É—Å—Ç–Ω—ã–π": "–ú–Ω–µ –∂–∞–ª—å —ç—Ç–æ —Å–ª—ã—à–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ —á—É–≤—Å—Ç–≤–∞–º–∏ —Å –∫–µ–º-—Ç–æ –±–ª–∏–∑–∫–∏–º. –Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤–∞—Å. üíô",
        "–º–Ω–µ –æ–¥–∏–Ω–æ–∫–æ": "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ –±—ã–≤–∞–µ—Ç —Ç—è–∂—ë–ª—ã–º. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –ø–æ–ø—Ä–æ–±—É–µ—Ç–µ –Ω–∞–π—Ç–∏ –Ω–æ–≤–æ–µ —Ö–æ–±–±–∏ –∏–ª–∏ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å –¥—Ä—É–≥–æ–º? –Ø —Ä—è–¥–æ–º! ü§ó",
        "—É –º–µ–Ω—è –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–Ω—å–≥–∞–º–∏": "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å—Ç—Ä–µ—Å—Å–æ–≤—ã–º–∏. –ú–æ–∂–µ—Ç, —Å—Ç–æ–∏—Ç —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –∏–ª–∏ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –∫–µ–º-—Ç–æ, –∫—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å? üí∞",
        "—è —Ç—Ä–µ–≤–æ–∂—É—Å—å": "–¢—Ä–µ–≤–æ–≥–∞ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö. –ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏—è –º–æ–≥—É—Ç –ø–æ–º–æ—á—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ! üßò‚Äç‚ôÇÔ∏è",
        "—è —É—Å—Ç–∞–ª": "–û—Ç–¥—ã—Ö –æ—á–µ–Ω—å –≤–∞–∂–µ–Ω. –î–∞–π—Ç–µ —Å–µ–±–µ –≤—Ä–µ–º—è —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–ª—ã. üò¥",
        "–º–µ–Ω—è –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç": "–ò–Ω–æ–≥–¥–∞ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –Ω–∞—Å, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å —Ç–µ–º, –∫–æ–º—É –≤—ã –¥–æ–≤–µ—Ä—è–µ—Ç–µ? üíû",
        "—è –Ω–µ –∑–Ω–∞—é, —á—Ç–æ –¥–µ–ª–∞—Ç—å": "–°–¥–µ–ª–∞–π—Ç–µ —à–∞–≥ –Ω–∞–∑–∞–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥—É–º–∞—Ç—å, –∫–∞–∫–∏–µ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ–º–æ–∂–µ—Ç —Å–æ–≤–µ—Ç –¥—Ä—É–≥–∞. üåü",
        "—è –≤ —Å—Ç—Ä–µ—Å—Å–µ": "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–≤–ª–µ—á—å—Å—è –Ω–∞ —á—Ç–æ-—Ç–æ –ø—Ä–∏—è—Ç–Ω–æ–µ: –º—É–∑—ã–∫—É, –ø—Ä–æ–≥—É–ª–∫—É –∏–ª–∏ –∫–Ω–∏–≥—É. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞. üé∂üìñ",
        "—É –º–µ–Ω—è –Ω–µ—Ç –º–æ—Ç–∏–≤–∞—Ü–∏–∏": "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—Å–ø–æ–º–Ω–∏—Ç—å, –∑–∞—á–µ–º –≤—ã –Ω–∞—á–∞–ª–∏. –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –ø—Ä–∏–≤–µ–¥—É—Ç –≤–∞—Å –∫ –±–æ–ª—å—à–æ–π —Ü–µ–ª–∏. üöÄ",
        "–º–Ω–µ –ø–ª–æ—Ö–æ": "–ü—Ä–æ—Å—Ç–∏—Ç–µ, —á—Ç–æ –≤—ã —Ç–∞–∫ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ. –ú–æ–∂–µ—Ç –±—ã—Ç—å, —Å—Ç–æ–∏—Ç –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –∫–µ–º-—Ç–æ, –∫—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å? –Ø –∑–¥–µ—Å—å –¥–ª—è –≤–∞—Å. ü§ù"
    };

    function addMessage(text, sender) {
        const messageDiv = document.createElement("div");
        messageDiv.classList.add("message", sender);

        if (sender === "bot") {
            const botImage = document.createElement("img");
            botImage.src = "images/hope.svg";
            botImage.alt = "Bot";
            messageDiv.appendChild(botImage);
        }

        const messageText = document.createElement("p");
        messageText.textContent = text;
        messageDiv.appendChild(messageText);
        chatBox.appendChild(messageDiv);

        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function sendMessage() {
        const userMessage = inputField.value.trim().toLowerCase();
        if (userMessage === "") return;

        addMessage(userMessage, "user");
        inputField.value = "";

        setTimeout(() => {
            const matchedKey = Object.keys(responses).find(question => userMessage.includes(question));
            const botResponse = matchedKey ? responses[matchedKey] : "–Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤–∞—Å. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –º–Ω–µ –±–æ–ª—å—à–µ. üíô";
            addMessage(botResponse, "bot");
        }, 500);
    }

    sendButton.addEventListener("click", sendMessage);
    inputField.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    });
});